---
title: 直男工程师为什么要做拉拉社交app？
s: introduce-rela-tech-team
date: 2017-04-13 10:04:35
tags:
---

## 你为什么要加入热拉？

我于两年前以CTO身份加入了一家专注于拉拉社交的互联网公司。我身边大部分的朋友都对我这个决定感到惊讶，甚至有的朋友怀疑我的性取向，我也借机澄清一下，虽然很多小Gay长的很帅，但不要以为长的帅的都是Gay，我是一个很直的直男。

一个直男工程师为什么要加入一家做拉拉社交的公司？为了LGBT的价值观，为了自由、平等、骄傲吗？不是！在我个人的观点中（不代表热拉观点）：LGBT的标签本身是没有存在的必要的，就如同每个人类个体都是不同的一般，他们也恰巧与其它人有一些不同，而这些不同并无不同。所以做这件事我并没有多少使命感的成分在里面。

然而，并不是每个人都如我这般看待他们，甚至他们自己。这个群体中，有些人感受到自己被歧视或可能被歧视，更多是假想出来的。尤其在中国，我们并没有反同的宗教文化，在一些历史时期同性恋甚至是一种时尚，而天主教、伊斯兰教等宗教中都有明确的反同经文，在国外也有着更多的同性恋迫害事件。但近些年，国外的情况很明显产生了很大的反转，我认为这是一种反弹。在硅谷，库克等一帮大佬都是弯的，数据显示硅谷有三分之一公司的中高层都是同性恋。直人还好意思在硅谷和人打招呼吗？

华人的同性恋状态与国外的情况是不同的，国外是有一种对抗斗争的感觉在。而华人大众对于同性恋群体主要是“不care”和些许好奇而已，而华人同性恋者自身结合华人普遍内敛的性格，也是很少公开自己的身份。

这就是这个群体的现状，我也是无意间了解到这个群体的存在。我个人一直是在从事和关注社交网络相关的领域，无论是直观的感觉还是从人性的角度分析，我都认为这是一件非常有商业价值的事情。在我决定自己来开发一个同性社交app的时候，机缘巧合，我遇到了热拉的创始人，我相信他的身份可以比我更加擅长运作这件事情，而他也遇到了一些技术上的瓶颈，需要一位CTO。就这样，我加入了热拉。

## 加入热拉之后遇到了哪些挑战吗？这种小众社交app是不是很简单？

在很多人的看来，一个小众社交软件应该是很简单的，做好它应该不难。我也认为自己可以驾轻就熟的做好这件事，并且不需要多少的人手，但我很快意识到自己错了。

因为我并非从零开始参与到这款应用的开发中的，在我加入之时，它已经是上线了一年多，拥有完整的产品形态，几十万体量的用户。所有后端由java开发，每天到了晚高峰时间，服务器都会崩溃。与此同时，我们的市场推广依然不能停下，产品迭代仍要进行。

我提出了招聘更多的人员，并拆分成两个后端团队，一个团队进行产品架构的重构，甚至重写，而另一团队依然进行现有系统的维护和改进。这个方案很快被搁置，相反，我们需要对团队进行压缩，因为我们当时正面临着财务的压力。原本人员就严重不足的后端团队，减少了一位java工程师，和运维工程师。

我根本无暇去做架构上的调整，虽然我一直认为这是重中之重。我只能从运维的角度来进行优化，将现有系统看作一个黑盒的系统，从服务器的各项指标，数据库的指标来分析整个系统的瓶颈所在，从高到低进行优化。

为了在进行现有系统优化的同时，依然能满足产品迭代的需求，我尽可能的不增加现有后台的负担，使用node.js 提供与现有系统完全解耦的API接口。选择node.js是因为他的开发效率高。

在这样的团队结构下，服务逐步得到了稳定，产品也在不断迭代中。过程中我们依然遇到了各种各样的问题，这里就不再展开了。我们也度过了资金最紧张的阶段，成功融资，财务状况现在也越来越好。

## 热拉何时开始引入Go语言的？

在技术上，我一向认为架构设计、语言选型、数据库选型是需要优先进行的。编程语言的选择是一件非常基础的事情，我并不是某种编程语言的狂热信徒，每种编程语言都有不同的特性，开源社区甚至是大公司支持都会影响它的生态系统。我认为java是不适合小团队的，且当时线上的java服务并不稳定，所以我们一直有计划替换掉java。

我们引入了node.js，非常适合做API层的快速迭代。但它也不是完美的，主要在于目前的node.js生态，因为在web前端领域的大量应用，导致大量的前端开发者进入到了后端领域，所以node.js后端开发工程师可以说是良莠不齐。这给我们的人才招聘带来了很大的困扰。我也是在这时开始考虑使用Golang作为后端主要开发语言的。

热拉的IM系统此前是使用的XMPP开源框架，当时已经达到了性能的瓶颈，难以维护和优化。因为IM系统是相对独立的，重写它对于整个系统架构没有太大影响，所以我决定自己使用Golang做一套IM系统。准确的说所开发的是一套网络通信框架，它包含Go服务端框架、Go客户端库、iOS客户端库、Android客户端库。我们的IM系统就是在这套网络通信之上开发的，目前已经在线上稳定运行一年多了。

与此同时呢，我们的产品功能还在不断迭代，不可避免的原来的java后端偶尔会增加新功能，这个后端存在着大量的业务和数据的耦合，以及对mysql、redis不合理的使用。而我们的用户已经在这个过程中已经翻了几番，在经历了几次严重的故障之后，我们终于决定使用Golang重写。我们的目标是灰度的、无缝的迁移，一切的重写对用户来说都是无感知的。

## 热拉技术架构的演进方向是怎样的？

热拉这个产品除了在用户量级上比其他社交软件小以为，在产品功能上一点也不比其他社交软件少，甚至还要更多，更复杂。对比我们的资源和团队规模，我们也同样面临着挑战。我个人认为，开发社交软件是一个非常有趣

我们下一步的计划是按照微服务架构对服务进行重构。我们认为每个微服务模块都应该有唯一的负责人，这可以让每一个团队成员都有自主发挥的空间。一部分的微服务也成为了我们实验新技术的环境，consul，NSQ等技术都有在应用。我们也会在接下来组建数据团队，在大数据架构中依然会选择Golang作为主要的语言，我们相信在基础架构层面Golang是可以胜任这个工作的。

**所以我们也在招聘更多优秀的Golang程序员。** 我们希望你首先对于Golang 语言特性的了解是扎实的，同时也有3年以上的任意编程语言的后端开发经验，如果你有大数据相关经验那就更合适了。如果你在github上有开源项目，在stackoverflow上有贡献答案，有坚持写博客的习惯，请把链接甩给我们。我们鼓励交流和分享，但不鼓励加班，我认为加班与工作效率不存在正相关性。MBP是标配，也可以配备外置显示器。如果你对我们有兴趣，请将你的简历直接发送至我的邮箱： leen AT thel DOT co

