---
title: 微服务架构设计原则
tags:
---

微服务架构

微服务架构首先要从人月神话说起。在软件行业刚刚兴起的时候。上世纪80年代左右。那些所谓的商业精英试图用，他们之前是熟练的，管理工人的管理普通工程项目的方式，来管理软件项目和程序员。他们以为只要增加人员，那么。要给予充分的时间，一个项目就一定可以完成。这就是人月神话，但是最终他们都陷入了。软件开发的软件工程的焦油坑之中。人们逐渐意识到软件开发是一个复杂的工程。而架构师就是要解决软件工程中的这些复杂问题。经过这几十年的发展，微服务架构。可以说是软件工程方面的最新成果。已经获得了行业的普遍认可。今天我们就来讨论一下微服务架构的一些构成要素和基本原则。

所谓系统，是一个由多个组件所构成的，相互协作，实现某个功能的整体。从这一定义出发，我们可以看到有三大要素决定了系统的设计。这三大要素分别是。组建结构。协作方式。功能需求。我们依次来分析，这三者是如何影响我们的？系统设计。

组件结构。我们必须很好的划分，系统的组成部分。这种划分。可以是扁平化的。划分。也可以是层次化的划分，取决于。系统的规模。在划分的时候，必须要重视服务的边界。在边界，就是这一组件的功能便捷。从这一角度来分析，所谓系统，又可以认为是由多个子系统所构成的。而每一个子系统又是油更小的子系统所构成的。比如说，一个电商系统，我们可以认为，他有交易系统，用户系统订单系统。商品展示系统等等子系统构成，而每一个子系统又可以被划分为。不同的层次如。访问路由层，数据存储层。业务逻辑层。每一个层次又可以被划分为不同的函数，功能。类。每一个函数又是油，一行行语句所构成，而语句又是由汇编指令构成，汇编指令又有一系列的。门电路所构成。直接由门电路。来构造一个电商系统对于我们来说是不可想象的。事实上从。基本的编程语句来构造一个电商系统也是同样的复杂。而微服务架构本质上就是要在要将复杂的系统化简为。个功能纯粹的子系统，而这些子系统呢，有可能会被划分为更多的子系统。我们面临的第1个问题就是如何划分子系统。划分子系统首先要考虑功能边界。这与组织架构当中的部门化，最好是能够相对应的我们需要明确一个子系统的权力与责任。我们可以总结出第1个设计原则。职责清晰，最小授权。但需要注意我们所说的最小授权是指为满足职责所需的最小数据，而不是最小的职责划分。对于服务边界的划分，一个常见的误区是划分得尽可能细。职责尽可能单一。这种想法过于理想化。当服务的边界过于单一之后，会导致。服务间的相互调用，变得更加复杂。所需要的维护人力也会更多。因此，对于微服务划分的力度最好与。开发人员的组织结构相匹配。如果团队较小不建议做过细的微服务划分。

协作方式。服务之间的相互协作都是通过数据的。交互来完成的。因此服务间的相互协作，可以总结为数据访问与数据同步。关于服务组件之间如何协作，可以说是微服务架构的。关键所在。通过不断的实践。工程师们总结出了。如下一些与协作相关的特殊服务，这些服务。不是油。系统的功能需求，所产生的服务而是系统的架构。需求而产生的服务。因此也是微服务架构的基础服务。这些服务包括。服务网关。消息总线。服务发现。服务监控。服务跟踪。等等。我们稍后会详细的分析这些。基础服务组件。对系统设计。所带来的影响。以及他们的需要注意的一些原则。从协作方式这1。基本要求出发。我们可以总结出一个原则。协议标准，格式统一。



来源可追溯。