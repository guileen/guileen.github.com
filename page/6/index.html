<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <link rel="dns-prefetch" href="http://guileen.github.io">
  <title>桂糊涂的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Description">
<meta property="og:type" content="website">
<meta property="og:title" content="桂糊涂的博客">
<meta property="og:url" content="http://guileen.github.io/page/6/index.html">
<meta property="og:site_name" content="桂糊涂的博客">
<meta property="og:description" content="Description">
<meta property="article:author" content="桂糊涂">
<meta name="twitter:card" content="summary">
  
    <link rel="alternative" href="/atom.xml" title="桂糊涂的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/avatar.jpg">
  
  
<link rel="stylesheet" href="/main.css">

  

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="/img/avatar.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">桂糊涂</a></h1>
		</hgroup>

		
		<p class="header-subtitle">代码杂记</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
				<li><a href="/categories/%E9%9A%8F%E7%AC%94">随笔</a></li>
	        
				<li><a href="/categories/AI">AI</a></li>
	        
				<li><a href="/balance-bot/">读心天平</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">所有文章</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">标签</a>
    			
    			
            
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)">关于我</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/guileen" title="github">github</a>
		        
					<a class="weibo" target="_blank" href="https://weibo.com/guileen" title="weibo">weibo</a>
		        
					<a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
		        
					<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">桂糊涂</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="/img/avatar.jpg" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">桂糊涂</h1>
			</hgroup>
			
			<p class="header-subtitle">代码杂记</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/categories/%E9%9A%8F%E7%AC%94">随笔</a></li>
		        
					<li><a href="/categories/AI">AI</a></li>
		        
					<li><a href="/balance-bot/">读心天平</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/guileen" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="https://weibo.com/guileen" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
			        
						<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        
  
    <article id="post-android-reverse-engineering-with-apktool" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/06/android-reverse-engineering-with-apktool/">Android反向工程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="https://ibotpeaches.github.io/Apktool/" target="_blank" rel="noopener">https://ibotpeaches.github.io/Apktool/</a></p>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux:"></a>Linux:</h2><ol>
<li>Download Linux wrapper script (Right click, Save Link As apktool)</li>
<li>Download apktool-2 (find newest here)</li>
<li>Make sure you have the 32bit libraries (ia32-libs) downloaded and installed by your linux package manager, if you are on a 64bit unix system.</li>
<li>(This helps provide support for the 32bit native binary aapt, which is required by apktool)</li>
<li>Rename downloaded jar to apktool.jar</li>
<li>Move both files (apktool.jar &amp; apktool) to /usr/local/bin (root needed)</li>
<li>Make sure both files are executable (chmod +x)</li>
<li>Try running apktool via cli</li>
</ol>
<h2 id="Mac-OS-X"><a href="#Mac-OS-X" class="headerlink" title="Mac OS X:"></a>Mac OS X:</h2><ol>
<li>Download Mac wrapper script (Right click, Save Link As apktool)</li>
<li>Download apktool-2 (find newest here)</li>
<li>Rename downloaded jar to apktool.jar</li>
<li>Move both files (apktool.jar &amp; apktool) to /usr/local/bin (root needed)</li>
<li>Make sure both files are executable (chmod +x)</li>
<li>Try running apktool via cli</li>
</ol>
<h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><p>apktool d test.apk</p>
<p>apktool b test</p>
<h1 id="使用-dex2jar"><a href="#使用-dex2jar" class="headerlink" title="使用 dex2jar"></a>使用 dex2jar</h1><p>unzip test.apk</p>
<p>wget <a href="https://github.com/pxb1988/dex2jar/releases/download/2.0/dex-tools-2.0.zip" target="_blank" rel="noopener">https://github.com/pxb1988/dex2jar/releases/download/2.0/dex-tools-2.0.zip</a></p>
<h1 id="JD-GUI"><a href="#JD-GUI" class="headerlink" title="JD-GUI"></a>JD-GUI</h1><p>可以搜索</p>
<h1 id="jad"><a href="#jad" class="headerlink" title="jad"></a>jad</h1><p>../../jad -o -r -sjava -ddest tmp/<em>*/</em>.class</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2015/10/06/android-reverse-engineering-with-apktool/" class="archive-article-date">
  	<time datetime="2015-10-05T16:00:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2015-10-06</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/" rel="tag">android</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>












  
    <article id="post-trace-https-requests" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/06/trace-https-requests/">How to trace http request</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>使用 mitmproxy <a href="https://mitmproxy.org/" target="_blank" rel="noopener">https://mitmproxy.org/</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install mitmproxy</span><br></pre></td></tr></table></figure>

<p>mitmproxy </p>
<p>有一个命令行工具，dump工具，</p>
<p>一个更简单的代码 <a href="https://github.com/allfro/pymiproxy" target="_blank" rel="noopener">https://github.com/allfro/pymiproxy</a></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2015/10/06/trace-https-requests/" class="archive-article-date">
  	<time datetime="2015-10-05T16:00:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2015-10-06</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hack/" rel="tag">hack</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/network/" rel="tag">network</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>












  
    <article id="post-ddzai-notes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/09/29/ddzai-notes/">ddz AI notes</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>`C` is all cards.</p>
<p>`p` is the part of playing cards.</p>
<p>`C_1` is all cards after play `p`.</p>
<p>求：</p>
<p>`P_a(C) = P_”activeWin”`</p>
<p>`P_p(C) = P_”passiveWin”`</p>
<p>设：</p>
<p>`P_d(p) = P_”dominate”`</p>
<p>`P_”f”(p) = P_”follow”`</p>
<p>`P_a(C) = max(P_a(p in C))`</p>
<p>`P_p(C) = max(P_p(p in C))`</p>
<p>`P_a(p,C) = P_d(p) * P_a(C_1) + (1-P_d(p)) * P_p(C_1)`</p>
<p>`P_p(p,C) = P_”f”(p) * P_a(p, C)`</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2015/09/29/ddzai-notes/" class="archive-article-date">
  	<time datetime="2015-09-28T16:00:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2015-09-29</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AI/" rel="tag">AI</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/game/" rel="tag">game</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>












  
    <article id="post-scheme-base-object-notation-language" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/09/28/scheme-base-object-notation-language/">Scheme base notation language</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>We use XML, JSON, BSON, MsgPack, Protobuf to transfer structured data. They have issues with effeciant or readability. I always think about that are there any better way to describe structured data clearly and effeciant.</p>
<p>We have primitive types: String, Number, Boolean, Date, Null. And combind types: Array, Object.</p>
<p>In real world, a class of object always have same fields, JSON is kind of waste.</p>
<p>For example, we have JSON of books</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    books:[</span><br><span class="line">        &#123;&quot;title&quot;:&quot;hello world&quot;, &quot;pages&quot;:100, &quot;author&quot;:&quot;Jack&quot;, published:1&#125;,</span><br><span class="line">        &#123;&quot;title&quot;:&quot;hello to programming 1&quot;, &quot;pages&quot;:50, &quot;author&quot;:&quot;Tom&quot;, published:1&#125;,</span><br><span class="line">        &#123;&quot;title&quot;:&quot;hello to programming 2&quot;, &quot;pages&quot;:50, &quot;author&quot;:&quot;Tom&quot;, published:1&#125;,</span><br><span class="line">        &#123;&quot;title&quot;:&quot;hello to programming 3&quot;, &quot;pages&quot;:50, &quot;author&quot;:&quot;Tom&quot;, published:0&#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>So, protobuf need you define your scheme, and use you scheme code to compress field names.</p>
<p>In my vison, protobuf is effeciant, but it is not a dynamic describe language, it is an static describe language. Which means, in many times, you need compile your client and server with a shared scheme definition file.</p>
<p>Did you get it? Share scheme definition file, recompile client or server once scheme change, is lack of development effeciant.</p>
<p>So, I design a scheme language like below. It define the scheme first, and use it.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">!book(title:s,pages:n,author:s,published:b);</span><br><span class="line">&#123;</span><br><span class="line">    books:[</span><br><span class="line">        book(&#39;hello world&#39;,100,&#39;Jack&#39;,1),</span><br><span class="line">        book(&#39;how to programming 1&#39;,50,&#39;Tom&#39;,1),</span><br><span class="line">        book(&#39;how to programming 2&#39;,50,&#39;Tom&#39;,1),</span><br><span class="line">        book(&#39;how to programming 3&#39;,50,&#39;Tom&#39;,0)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The first line <code>!book(...);</code> define a scheme of book. Syntax is <code>!name(field:type, ...);</code>. </p>
<p>The string after <code>;</code> is data body. <code>book(...)</code> use scheme to create a book object.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">!book(title:s,pages:n,author:s,published:b);</span><br><span class="line">&#123;</span><br><span class="line">    books:![book][</span><br><span class="line">        (&#39;hello world&#39;,100,&#39;Jack&#39;,1),</span><br><span class="line">        (&#39;how to programming 1&#39;,50,&#39;Tom&#39;,1),</span><br><span class="line">        (&#39;how to programming 2&#39;,50,&#39;Tom&#39;,1),</span><br><span class="line">        (&#39;how to programming 3&#39;,50,&#39;Tom&#39;,0)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Also,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    books:![(title,pages,author,published)][</span><br><span class="line">        (&#39;hello world&#39;,100,&#39;Jack&#39;,1),</span><br><span class="line">        (&#39;how to programming 1&#39;,50,&#39;Tom&#39;,1),</span><br><span class="line">        (&#39;how to programming 2&#39;,50,&#39;Tom&#39;,1),</span><br><span class="line">        (&#39;how to programming 3&#39;,50,&#39;Tom&#39;,0)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>You can also seperate it to two part in communication.</p>
<p>The head:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!book(title:s,pages:n,author:s,published:b);</span><br></pre></td></tr></table></figure>

<p>The body:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    books:[</span><br><span class="line">        book(&#39;hello world&#39;,100,&#39;Jack&#39;,1),</span><br><span class="line">        book(&#39;how to programming 1&#39;,50,&#39;Tom&#39;,1),</span><br><span class="line">        book(&#39;how to programming 2&#39;,50,&#39;Tom&#39;,1),</span><br><span class="line">        book(&#39;how to programming 3&#39;,50,&#39;Tom&#39;,0)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>On the client, you can download head once, and body multiple time.</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2015/09/28/scheme-base-object-notation-language/" class="archive-article-date">
  	<time datetime="2015-09-27T16:00:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2015-09-28</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/data-format/" rel="tag">data-format</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>












  
    <article id="post-use-ffmpeg" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/09/23/use-ffmpeg/">ffmpeg 视频转码</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>see <a href="https://www.virag.si/2012/01/web-video-encoding-tutorial-with-ffmpeg-0-9/" target="_blank" rel="noopener">https://www.virag.si/2012/01/web-video-encoding-tutorial-with-ffmpeg-0-9/</a><br>see <a href="https://www.virag.si/2012/01/webm-web-video-encoding-tutorial-with-ffmpeg-0-9/" target="_blank" rel="noopener">https://www.virag.si/2012/01/webm-web-video-encoding-tutorial-with-ffmpeg-0-9/</a></p>
<h2 id="Mac-OSX安装"><a href="#Mac-OSX安装" class="headerlink" title="Mac OSX安装"></a>Mac OSX安装</h2><p><code>brew install ffmpeg --with-libvpx --with</code></p>
<h2 id="生成-mp4"><a href="#生成-mp4" class="headerlink" title="生成 mp4"></a>生成 mp4</h2><h3 id="参数说明"><a href="#参数说明" class="headerlink" title="参数说明"></a>参数说明</h3><ul>
<li>-i [input file] | this specifies the name of input file</li>
<li>-codec:v libx264 | tells FFmpeg to encode video to H.264 using libx264 library</li>
<li>-profile:v high | sets H.264 profile to “High” as per Step 2. Other valid options are baseline, main</li>
<li>-preset slow | sets encoding preset for x264 – slower presets give more quality at same bitrate, but need more time to encode. “slow” is a good balance between encoding time and quality. Other valid options are: ultrafast, superfast, veryfast, faster, fast, medium, slow, slower, veryslow, placebo (never use this one)</li>
<li>-b:v | sets video bitrate in bits/s</li>
<li>-maxrate and -bufsize | forces libx264 to build video in a way, that it could be streamed over 500kbit/s line considering device buffer of 1000kbits. Very useful for web - setting this to bitrate and 2x bitrate gives good results.</li>
<li>-vf scale | applies “scale” filter, which resizes video to desired resolution. “720:480” would resize video to 720x480, “-1” means “resize so the aspect ratio is same.” Usually you set only height of the video, so for 380p you set “scale=-1:380”, for 720p “scale=-1:720” etc.</li>
<li>-threads 0 | tells libx264 to choose optimal number of threads to encode, which will make sure all your processor cores in the computer are used</li>
<li>-codec:a libfdk_aac | tells FFmpeg to encode audio to AAC using libfdk-aac library</li>
<li>-b:a | sets audio bitrate in bits/s</li>
<li>-pass [1 2] | tells FFmpeg to process video in multiple passes and sets the current pass</li>
<li>-an | disables audio, audio processing has no effect on first pass so it’s best to disable it to not waste CPU</li>
</ul>
<p>Standard web video (480p at 500kbit/s)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i input_file.avi -codec:v libx264 -profile: high -preset slow -b:v 500k -maxrate 500k -bufsize 1000k -vf scale&#x3D;-1:480 -threads 0 -codec:a libfdk_aac -b:a 128k output_file.mp4</span><br></pre></td></tr></table></figure>

<p>360p video for older mobile phones (360p at 250kbit/s in baseline profile)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i inputfile.avi -codec:v libx264 -profile:v baseline -preset slow -b:v 250k -maxrate 250k -bufsize 500k -vf scale&#x3D;-1:360 -threads 0 -codec:a libfdk_aac -b:a 96k output.mp4</span><br></pre></td></tr></table></figure>
<p>480p video for iPads and tablets (480p at 400kbit/s in main profile):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i inputfile.avi -codec:v libx264 -profile:v main -preset slow -b:v 400k -maxrate 400k -bufsize 800k -vf scale&#x3D;-1:480 -threads 0 -codec:a libfdk_aac -b:a 128k output.mp4</span><br></pre></td></tr></table></figure>
<p>High-quality SD video for archive/storage (PAL at 1Mbit/s in high profile):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i inputfile.avi -codec:v libx264 -profile:v high -preset slower -b:v 1000k -vf scale&#x3D;-1:576 -threads 0 -codec:a libfdk_aac -b:a 196k output.mp4</span><br></pre></td></tr></table></figure>

<h2 id="生成-webm"><a href="#生成-webm" class="headerlink" title="生成 webm"></a>生成 webm</h2><h3 id="参数说明-1"><a href="#参数说明-1" class="headerlink" title="参数说明:"></a>参数说明:</h3><ul>
<li>-codec:v    Specifies the video encoder to be used, in our case that is libvpx VP8 library</li>
<li>-quality good   Sets encoding speed for the VP8 encoder. This works in concert with cpu-used parameter. Available values are best, good and realtime. The official libvpx documentation strongly advises against using best quality parameter, because good with cpu-used 0 offers almost identical quality for half the encoding time.</li>
<li>-cpu-used [0-5] Sets “speed” of encoding “ lower value uses more CPU for processing and produces better quality. Larger values trade quality for faster encoding, with 4 and 5 enabling “rate distortion optimization”, which significantly speeds-up encoding with price of big quality hit.</li>
<li>-b:v [bitrate]  Sets desired output video bitrate</li>
<li>-maxrate/-bufsize   Set upper limits for stream bitrate, maxrate specifying maximum bitrate and bufsize specifying device buffer size. Buffer size tells the encoder how much it can overshoot the maximum bitrate when required. Good default is twice the maxrate for approx. 2sec of buffer.</li>
<li>-qmin 10 -qmax 42   This sets minimum and maximum quantization values. Since as of 0.9, FFmpeg sets those values wrong by default, adding these is required for a a decent video quality. Omitting these will produce blocky broken video.</li>
<li>-threads [num]  Sets number of encoding threads to use. Set to the number of your CPU cores available.</li>
<li>-vf scale=[width:height]    Rescales video to a chosen resolution. Value of “-1″ means “size to keep aspect ratio”, e.g. setting this to “-1:720″ will produce a 720p output with same aspect ratio as input.</li>
<li>-codec:a libvorbis  Sets output audio encoder to libvorbis to produce vorbis output. This is required for a valid WebM file.</li>
<li>-b:a [bitrate]  Sets bitrate for encoded audio.</li>
<li>-an disables audio, audio processing has no effect on first pass so itís best to disable it to not waste CPU.</li>
<li>-f webm tells FFmpeg the output file format (required only if it cannot be inferred from output file extension).</li>
<li>-pass [1 2] tells FFmpeg to process video in multiple passes and sets the current pass.</li>
</ul>
<p>Standardî web video (480p at 600kbit/s)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i input_file.avi -codec:v libvpx -quality good -cpu-used 0 -b:v 600k -maxrate 600k -bufsize 1200k -qmin 10 -qmax 42 -vf scale&#x3D;-1:480 -threads 4 -codec:a vorbis -b:a 128k output_file.webm</span><br></pre></td></tr></table></figure>

<p>High-quality SD video for archive/storage (PAL at 1.2Mbit/s):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i input_file.avi -codec:v libvpx -quality good -cpu-used 0 -b:v 1200k -maxrate 1200k -bufsize 2400k -qmin 10 -qmax 42 -vf scale&#x3D;-1:480 -threads 4 -codec:a vorbis -b:a 128k output_file.webm</span><br></pre></td></tr></table></figure>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2015/09/23/use-ffmpeg/" class="archive-article-date">
  	<time datetime="2015-09-22T16:00:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2015-09-23</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ffmpeg/" rel="tag">ffmpeg</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tools/" rel="tag">tools</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/video/" rel="tag">video</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>












  
    <article id="post-cloud-services-list-for-startups" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/09/18/cloud-services-list-for-startups/">第三方服务列表</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h2><p>cloudxns.net 优势，免费<br>dnspod.cn    119.29.29.29 HTTPDNS</p>
<h2 id="红包"><a href="#红包" class="headerlink" title="红包"></a>红包</h2><ul>
<li>云账户  可绑银行卡，收发红包</li>
<li>爱贝收银台</li>
</ul>
<h2 id="云计算"><a href="#云计算" class="headerlink" title="云计算"></a>云计算</h2><ul>
<li>AWS     全面、专业、贵。</li>
<li>UCloud  香港亮点。支持大陆、香港、北美。专线</li>
<li>腾讯云  服务很多，除基础服务外，网络优化相关，短信、电话、验证码相关，以及大数据相关。看好</li>
<li>青云    Spark亮点。出过一次严重故障。</li>
<li>Linode  日本节点是神器</li>
<li>阿里云  大厂。</li>
<li>百度云  除基本服务外，也有客服系统。</li>
<li>Daocloud</li>
</ul>
<h2 id="CDN"><a href="#CDN" class="headerlink" title="CDN"></a>CDN</h2><ul>
<li>星域        便宜，大文件，尚不完善。摔</li>
<li>百度云加速  免费</li>
<li>蓝讯</li>
<li>网宿</li>
<li>Akamai</li>
<li>PacketZoom</li>
<li>白山云</li>
</ul>
<h2 id="云存储"><a href="#云存储" class="headerlink" title="云存储"></a>云存储</h2><ul>
<li>七牛      云存储，图片预处理API</li>
<li>又拍云</li>
<li>百度</li>
<li>S3 Upload Free</li>
<li>DigetalOcean</li>
</ul>
<h2 id="发送"><a href="#发送" class="headerlink" title="发送"></a>发送</h2><ul>
<li><a href="http://www.yunpian.com" target="_blank" rel="noopener">www.yunpian.com</a> 国内，国际，API规范，好</li>
<li>mob.com    10000 免费, 全球</li>
<li>sendcloud.sohu.com 发邮件</li>
<li>luosimao.com 短信/邮件</li>
<li>twillo</li>
<li>cl2009.com  国内好</li>
<li>nexmo.com   全球, 便宜</li>
<li><a href="http://www.chanzor.com/" target="_blank" rel="noopener">http://www.chanzor.com/</a> 畅卓</li>
<li><a href="http://emailcar.net/" target="_blank" rel="noopener">http://emailcar.net/</a>  EDM 邮件营销</li>
<li>大汉三通</li>
</ul>
<h2 id="即时通讯"><a href="#即时通讯" class="headerlink" title="即时通讯"></a>即时通讯</h2><ul>
<li>环信</li>
<li>融云</li>
</ul>
<h2 id="云加速"><a href="#云加速" class="headerlink" title="云加速"></a>云加速</h2><p>cloudflare<br>云盾</p>
<h2 id="监控"><a href="#监控" class="headerlink" title="监控"></a>监控</h2><ul>
<li>OneAPM</li>
<li>听云</li>
<li>监控宝</li>
<li>Fabric</li>
<li>友盟</li>
<li>LeakCanary  java内存泄露监测</li>
</ul>
<h2 id="统计-amp-崩溃收集"><a href="#统计-amp-崩溃收集" class="headerlink" title="统计 &amp; 崩溃收集"></a>统计 &amp; 崩溃收集</h2><ul>
<li>Talkingdata</li>
<li>GrowingIO</li>
<li>Sensors Analytics</li>
<li>诸葛io</li>
<li>友盟</li>
<li>fabric      错误统计</li>
</ul>
<h2 id="云后端"><a href="#云后端" class="headerlink" title="云后端"></a>云后端</h2><ul>
<li>bmob.cn     (特色)无需第三方，快速申请支付渠道（5%费率）</li>
<li>LeanCloud   无后端模式，存储，常用结构，短信，邮件</li>
</ul>
<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><ul>
<li>testin  众测</li>
<li>pgyer   蒲公英</li>
</ul>
<h2 id="电商云"><a href="#电商云" class="headerlink" title="电商云"></a>电商云</h2><ul>
<li>wemart 微猫</li>
<li>微猫： <a href="http://www.wemart.cn，饿了么，暴走漫画在使用" target="_blank" rel="noopener">http://www.wemart.cn，饿了么，暴走漫画在使用</a> ，适合app开店</li>
<li>淘宝客：<a href="http://ad.alimama.com/index.htm" target="_blank" rel="noopener">http://ad.alimama.com/index.htm</a> 陌陌早期过度</li>
<li>有赞：<a href="https://open.youzan.com/sdk/home" target="_blank" rel="noopener">https://open.youzan.com/sdk/home</a>  玲珑在用，适合</li>
<li>欧电云: <a href="http://odianyun.com/" target="_blank" rel="noopener">http://odianyun.com/</a> 1号店团队出来搞的一个云电商</li>
</ul>
<h2 id="客服软件"><a href="#客服软件" class="headerlink" title="客服软件"></a>客服软件</h2><ul>
<li>美洽</li>
<li>网易七鱼 <a href="http://qiyukf.com/" target="_blank" rel="noopener">http://qiyukf.com/</a></li>
<li>UDesk</li>
</ul>
<h2 id="直播云"><a href="#直播云" class="headerlink" title="直播云"></a>直播云</h2><ul>
<li>七牛</li>
<li><a href="www.agora.io">声网</a></li>
<li>乐视</li>
<li>腾讯</li>
<li>百度</li>
<li>UCloud</li>
<li>网宿</li>
<li>金山 &amp; JSYLive_iOS</li>
</ul>
<h2 id="机器学习"><a href="#机器学习" class="headerlink" title="机器学习"></a>机器学习</h2><ul>
<li>图普</li>
<li>同盾</li>
<li>达观数据</li>
</ul>
<h2 id="直播审核"><a href="#直播审核" class="headerlink" title="直播审核"></a>直播审核</h2><ul>
<li>金山金睛 (弃)</li>
</ul>
<h2 id="短视频拍摄"><a href="#短视频拍摄" class="headerlink" title="短视频拍摄"></a>短视频拍摄</h2><ul>
<li>趣拍</li>
<li>七牛</li>
<li>百度</li>
</ul>
<h2 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h2><ul>
<li>直播流测试工具 <a href="http://www.cutv.com/demo/live_test.swf" target="_blank" rel="noopener">http://www.cutv.com/demo/live_test.swf</a></li>
</ul>
<h2 id="管理"><a href="#管理" class="headerlink" title="管理"></a>管理</h2><ul>
<li>钉钉</li>
<li>闪电报销</li>
</ul>
<h2 id="项目管理"><a href="#项目管理" class="headerlink" title="项目管理"></a>项目管理</h2><ul>
<li>禅道 zentao</li>
<li>OpenProject <a href="https://www.openproject.org/" target="_blank" rel="noopener">https://www.openproject.org/</a>  <a href="https://github.com/opf/openproject" target="_blank" rel="noopener">https://github.com/opf/openproject</a></li>
</ul>
<h2 id="Dropbox-替代"><a href="#Dropbox-替代" class="headerlink" title="Dropbox 替代"></a>Dropbox 替代</h2><ul>
<li><a href="https://pydio.com" target="_blank" rel="noopener">pydio</a></li>
<li><a href="https://seafile.com" target="_blank" rel="noopener">seafile</a></li>
<li><a href="syncthing.net">syncthing</a> 开源, 部署略复杂</li>
</ul>
<h2 id="trello-开源替代"><a href="#trello-开源替代" class="headerlink" title="trello 开源替代"></a>trello 开源替代</h2><ul>
<li><a href="https://github.com/wekan/wekan" target="_blank" rel="noopener">wekan</a></li>
</ul>
<h2 id="slack-开源替代"><a href="#slack-开源替代" class="headerlink" title="slack 开源替代"></a>slack 开源替代</h2><ul>
<li><a href="https://rocket.chat" target="_blank" rel="noopener">https://rocket.chat</a> 工具丰富，社区活跃</li>
<li><a href="https://github.com/zulip/zulip" target="_blank" rel="noopener">https://github.com/zulip/zulip</a></li>
<li><a href="https://github.com/mattermost/platform" target="_blank" rel="noopener">https://github.com/mattermost/platform</a></li>
<li><a href="https://github.com/sdelements/lets-chat" target="_blank" rel="noopener">https://github.com/sdelements/lets-chat</a></li>
<li><a href="https://github.com/moose-team/friends" target="_blank" rel="noopener">https://github.com/moose-team/friends</a></li>
</ul>
<h2 id="github-开源替代"><a href="#github-开源替代" class="headerlink" title="github 开源替代"></a>github 开源替代</h2><ul>
<li>gitlab</li>
<li>gogs</li>
</ul>
<h2 id="桌面软件-amp-效率"><a href="#桌面软件-amp-效率" class="headerlink" title="桌面软件&amp;效率"></a>桌面软件&amp;效率</h2><ul>
<li>Pomotodo</li>
<li>RescueTime</li>
<li>Teamviewer</li>
<li>Bittorrent sync <a href="https://www.resilio.com/" target="_blank" rel="noopener">https://www.resilio.com/</a></li>
</ul>
<h2 id="运维部署"><a href="#运维部署" class="headerlink" title="运维部署"></a>运维部署</h2><ul>
<li>jekins</li>
<li><a href="http://www.ansible.com" target="_blank" rel="noopener">www.ansible.com</a></li>
<li>grafna</li>
<li>influxdb</li>
<li>ELK Elastic Search, Logstash, Kibana</li>
</ul>
<p>##</p>
<ul>
<li>lottie Android iOS AE动画</li>
<li>反向定位，reverse geocode <a href="https://github.com/kno10/reversegeocode" target="_blank" rel="noopener">https://github.com/kno10/reversegeocode</a>  java, openstreetmap data</li>
<li>反向定位，reverse geocode <a href="https://github.com/thampiman/reverse-geocoder" target="_blank" rel="noopener">https://github.com/thampiman/reverse-geocoder</a> python</li>
</ul>
<p>[SEE]<br>    <a href="http://next.36kr.com/posts/collections/506?utm_source=wechat" target="_blank" rel="noopener">http://next.36kr.com/posts/collections/506?utm_source=wechat</a><br>    <a href="http://next.36kr.com/posts/collections/507?utm_source=wechat" target="_blank" rel="noopener">http://next.36kr.com/posts/collections/507?utm_source=wechat</a></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2015/09/18/cloud-services-list-for-startups/" class="archive-article-date">
  	<time datetime="2015-09-17T16:00:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2015-09-18</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/cloud-services/" rel="tag">cloud-services</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>












  
    <article id="post-use-asciimath" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/09/08/use-asciimath/">使用Asciimath来编辑数学公式</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="MathJax"><a href="#MathJax" class="headerlink" title="MathJax"></a>MathJax</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">When $a \ne 0$, there are two solutions to \(ax^2 + bx + c &#x3D; 0\) and they are</span><br><span class="line">$$x &#x3D; &#123;-b \pm \sqrt&#123;b^2-4ac&#125; \over 2a&#125;.$$</span><br></pre></td></tr></table></figure>

<p>When $a \ne 0$, there are two solutions to (ax^2 + bx + c = 0) and they are<br>$$x = {-b \pm \sqrt{b^2-4ac} \over 2a}.$$</p>
<h2 id="AsciiMath"><a href="#AsciiMath" class="headerlink" title="AsciiMath"></a>AsciiMath</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#96;a * b &#x3D; c   &#x3D;&gt; a &#x3D; c &#x2F; b &#x3D;&gt; b &#x3D; c &#x2F; a&#96;</span><br></pre></td></tr></table></figure>

<p>` a * b = c   =&gt; a = c / b =&gt; b = c / a`</p>
<p>` a / b = c  =&gt; a = b * c`</p>
<p>` 1 / 2 = 0.5 =&gt;  1/0.5 = 2 `</p>
<p>` 12 / 3 = 4 =&gt; 12 / 4 = 3 `</p>
<p>` 18 / 3 = 6 =&gt; 18 / 6 = 3 `</p>
<p>` 面积 = 长度 *  宽度 `</p>
<p>` 长度 = (面积) / (宽度) `</p>
<p><a href="http://asciimath.org" target="_blank" rel="noopener">asciimath</a> 在页面中加入下面这段代码</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=AM_HTMLorMML"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>将公式用用`包含起来</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#96;sum_(i&#x3D;1)^n i^3&#x3D;((n(n+1))&#x2F;2)^2&#96;</span><br></pre></td></tr></table></figure>

<p>`sum_(i=1)^n i^3=((n(n+1))/2)^2`</p>
<p>条件概率公式 <code>P(A|B) = (P(A nn B)) / (P(B))</code></p>
<p> `P(A|B) = (P(A nn B)) / (P(B))` </p>

<p>全概率公式 <code>P(A) = sum_(i) P(A|B_i)*P(B_i)</code></p>
<p> `P(A) = sum_(i) P(A|B_i)*P(B_i)` </p>

<p>微积分:</p>
<p>`f(x)=x^2`</p>
<p>`d/dx(x^3)=((x+dx)^2 - x^2)/dx = (x^2 + 2xdx+dx^2 - x^2)/dx = 2x +dx = 2x`</p>
<p>`u’+v’ = (du)/dx + (dv)/dx = (du+dv)/dx = (d(u+v)) / dx = (u+v)’`</p>
<p>`(cu)’ = (dcu)/dx = c(du)/dx = cu’`</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2015/09/08/use-asciimath/" class="archive-article-date">
  	<time datetime="2015-09-07T16:00:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2015-09-08</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mathematics/" rel="tag">mathematics</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>












  
    <article id="post-nginx-cors" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/31/nginx-cors/">Nginx解决跨域问题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Nginx 根据条件设置跨域访问权限</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># CORS header support</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># One way to use this is by placing it into a file called "cors_support"</span></span><br><span class="line"><span class="comment"># under your Nginx configuration directory and placing the following</span></span><br><span class="line"><span class="comment"># statement inside your location block(s):</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#   include cors_support;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># A limitation to this method is that Nginx doesn't currently send headers</span></span><br><span class="line"><span class="comment"># specified by add_header when the backend returns a 4xx or 5xx status code.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># For more information on CORS, please see: http://enable-cors.org/</span></span><br><span class="line"><span class="comment"># Forked from this Gist: https://gist.github.com/michiel/1064640</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> <span class="variable">$cors</span> <span class="string">''</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$http_origin</span> ~* <span class="string">'https?://(localhost|www\.yourdomain\.com|www\.yourotherdomain\.com)'</span>) &#123;</span><br><span class="line">        <span class="built_in">set</span> <span class="variable">$cors</span> <span class="string">'true'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$cors</span> = <span class="string">'true'</span>) &#123;</span><br><span class="line">        add_header <span class="string">'Access-Control-Allow-Origin'</span> <span class="string">"<span class="variable">$http_origin</span>"</span>;</span><br><span class="line">        add_header <span class="string">'Access-Control-Allow-Credentials'</span> <span class="string">'true'</span>;</span><br><span class="line">        add_header <span class="string">'Access-Control-Allow-Methods'</span> <span class="string">'GET, POST, PUT, DELETE, OPTIONS'</span>;</span><br><span class="line">        add_header <span class="string">'Access-Control-Allow-Headers'</span> <span class="string">'Accept,Authorization,Cache-Control,Content-Type,DNT,If-Modified-Since,Keep-Alive,Origin,User-Agent,X-Mx-ReqToken,X-Requested-With'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$request_method</span> = <span class="string">'OPTIONS'</span>) &#123;</span><br><span class="line">        <span class="built_in">return</span> 204;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2015/08/31/nginx-cors/" class="archive-article-date">
  	<time datetime="2015-08-30T16:00:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2015-08-31</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nginx/" rel="tag">nginx</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ops/" rel="tag">ops</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>












  
    <article id="post-golang-work-with-cpp" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/26/golang-work-with-cpp/">Golang与C++混合编译问题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>use <a href="http://www.swig.org/Doc2.0/Go.html" target="_blank" rel="noopener">SWIG</a></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2015/08/26/golang-work-with-cpp/" class="archive-article-date">
  	<time datetime="2015-08-25T16:00:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2015-08-26</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/go/" rel="tag">go</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>












  
    <article id="post-cursor-vs-page" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/20/cursor-vs-page/">Cursor 与 Page</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>分页是一个非常普通的业务需求。对于一个有大量数据的列表，我们必须分段查看数据。在API层面的设计上，一般会使用 page, limit 两个参数来控制分页。</p>
<p>缺陷：page, limit 在性能上有问题，翻页时可能会有新插入的数据导致位置错乱。在数据过滤上有问题，在判断尾页上有问题。</p>
<p>优势：可以准确的跳转到中间任意页。</p>
<p>Cursor 是一种比较适合移动互联网的分页方式。它可以保证列表数据是连续的。</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2015/08/20/cursor-vs-page/" class="archive-article-date">
  	<time datetime="2015-08-19T16:00:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2015-08-20</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/architecture/" rel="tag">architecture</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>












  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/5/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="extend next" rel="next" href="/page/7/">Next &amp;raquo;</a>
    </nav>
  


      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2021 桂糊涂
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true
	}
</script>


<script src="/./main.js"></script>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">全部</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">标签</span><i class="icon-price-tags"></i></li>
    
    
    
      <li data-hook="tools-section-me"><span class="text">我</span><i class="icon-smile"></i></li>
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				<a href="/tags/3D/" style="font-size: 10px;">3D</a> <a href="/tags/AI/" style="font-size: 11.25px;">AI</a> <a href="/tags/CI/" style="font-size: 12.5px;">CI</a> <a href="/tags/HTTP/" style="font-size: 10px;">HTTP</a> <a href="/tags/IM/" style="font-size: 10px;">IM</a> <a href="/tags/Objective-C/" style="font-size: 10px;">Objective-C</a> <a href="/tags/React/" style="font-size: 10px;">React</a> <a href="/tags/UI/" style="font-size: 10px;">UI</a> <a href="/tags/VPS/" style="font-size: 10px;">VPS</a> <a href="/tags/algorithm/" style="font-size: 12.5px;">algorithm</a> <a href="/tags/algorithms/" style="font-size: 11.25px;">algorithms</a> <a href="/tags/android/" style="font-size: 12.5px;">android</a> <a href="/tags/architecture/" style="font-size: 18.75px;">architecture</a> <a href="/tags/books/" style="font-size: 10px;">books</a> <a href="/tags/cloud-services/" style="font-size: 10px;">cloud-services</a> <a href="/tags/cluster/" style="font-size: 10px;">cluster</a> <a href="/tags/data/" style="font-size: 10px;">data</a> <a href="/tags/data-format/" style="font-size: 12.5px;">data-format</a> <a href="/tags/editor/" style="font-size: 15px;">editor</a> <a href="/tags/education/" style="font-size: 10px;">education</a> <a href="/tags/engineering/" style="font-size: 10px;">engineering</a> <a href="/tags/ffmpeg/" style="font-size: 10px;">ffmpeg</a> <a href="/tags/font/" style="font-size: 10px;">font</a> <a href="/tags/game/" style="font-size: 15px;">game</a> <a href="/tags/game-dev/" style="font-size: 17.5px;">game-dev</a> <a href="/tags/game-dev-books/" style="font-size: 10px;">game-dev, books</a> <a href="/tags/generator/" style="font-size: 12.5px;">generator</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/go/" style="font-size: 13.75px;">go</a> <a href="/tags/gossip/" style="font-size: 10px;">gossip</a> <a href="/tags/greek/" style="font-size: 10px;">greek</a> <a href="/tags/hack/" style="font-size: 11.25px;">hack</a> <a href="/tags/hash/" style="font-size: 10px;">hash</a> <a href="/tags/iOS/" style="font-size: 10px;">iOS</a> <a href="/tags/input-methods/" style="font-size: 10px;">input-methods</a> <a href="/tags/java/" style="font-size: 10px;">java</a> <a href="/tags/js/" style="font-size: 12.5px;">js</a> <a href="/tags/live-dev/" style="font-size: 10px;">live-dev</a> <a href="/tags/lua/" style="font-size: 10px;">lua</a> <a href="/tags/machine-learning/" style="font-size: 12.5px;">machine-learning</a> <a href="/tags/makefile/" style="font-size: 10px;">makefile</a> <a href="/tags/marketing/" style="font-size: 11.25px;">marketing</a> <a href="/tags/mathematics/" style="font-size: 13.75px;">mathematics</a> <a href="/tags/mysql/" style="font-size: 12.5px;">mysql</a> <a href="/tags/network/" style="font-size: 16.25px;">network</a> <a href="/tags/nginx/" style="font-size: 11.25px;">nginx</a> <a href="/tags/node-js/" style="font-size: 12.5px;">node.js</a> <a href="/tags/nosql/" style="font-size: 10px;">nosql</a> <a href="/tags/ops/" style="font-size: 20px;">ops</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/redis/" style="font-size: 11.25px;">redis</a> <a href="/tags/security/" style="font-size: 11.25px;">security</a> <a href="/tags/slide/" style="font-size: 10px;">slide</a> <a href="/tags/svn/" style="font-size: 10px;">svn</a> <a href="/tags/tcp/" style="font-size: 12.5px;">tcp</a> <a href="/tags/terminal/" style="font-size: 10px;">terminal</a> <a href="/tags/tools/" style="font-size: 12.5px;">tools</a> <a href="/tags/udp/" style="font-size: 10px;">udp</a> <a href="/tags/video/" style="font-size: 10px;">video</a> <a href="/tags/vim/" style="font-size: 11.25px;">vim</a> <a href="/tags/web/" style="font-size: 17.5px;">web</a>
    			</div>
    	</section>
    

    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">联系我：&lt;br&gt; guileen AT qq DOT com</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>